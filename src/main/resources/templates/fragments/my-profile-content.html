<html xmlns:th="http://www.thymeleaf.org" th:fragment="content">
<link rel="stylesheet" href="/css/my-profile-content.css">
<div class="profile-container">
    <!-- Avatar -->
    <img th:src="'/uploads/' + ${avatar}" alt="Avatar" class="profile-avatar">

    <!-- User Information -->
    <div class="profile-info">
        <h4 th:text="${currentUserName}"></h4>
        <h5 th:text="'&quot;' + ${bio} + '&quot;'"></h5>
        <p th:text="'Followers: ' + ${followers}"></p>
        <p th:text="'Uploaded Documents: ' + ${documentsUploaded}"></p>
        <p th:text="'Contact: ' + ${email}"></p>
        <button onclick="toggleEditForm()">Edit Profile</button>
    </div>

    <!-- Edit Form -->
    <div class="edit-form" id="editForm">
        <form action="/user/update-profile" method="post" enctype="multipart/form-data">
            <input type="file" id="avatar" name="avatar" accept="image/*">
            <input type="text" name="name" placeholder="Username" th:value="${currentUserName}">
            <input type="text" name="email" placeholder="Contact" th:value="${email}">
            <textarea name="bio" rows="4" placeholder="Bio" th:text="${bio}"></textarea>
            <button type="submit">Save Changes</button>
        </form>
    </div>
</div>

<script>
    function toggleEditForm() {
        const form = document.getElementById('editForm');
        form.classList.toggle('active');
    }
</script>
</html>